<!doctype html>







<html
  class="not-ready lg:text-base"
  style="--bg:#faf8f1"
  lang="en-us"
  dir="ltr"
><head><script src="/function-wrapper/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=function-wrapper/livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  
  <title>Kefer Astrology API Documentation</title>

  
  <meta name="theme-color" />

  
  <meta
    name="description"
    content="Complete API documentation for Kefer Astrology function-wrapper"
  />
  <meta name="author" content="Kefer Astrology API Documentation" /><link rel="preload stylesheet" as="style" href="http://localhost:1313/function-wrapper/main.min.aa6ea02b0eefe7db1bff5f6c623c536c742cbb74f94dbd38d2d905a87001ac2e.css" integrity="sha256-qm6gKw7v59sb/19sYjxTbHQsu3T5Tb040tkFqHABrC4=" />

  
  <link rel="preload" as="image" href="http://localhost:1313/function-wrapper/theme.png" />

  

  

  

  
  <link
    rel="icon"
    href="http://localhost:1313/function-wrapper/favicon.ico"
  />
  <link
    rel="apple-touch-icon"
    href="http://localhost:1313/function-wrapper/apple-touch-icon.png"
  />

  <meta name="generator" content="Hugo 0.128.0">
</head>
<body
    class="bg-(--bg) text-black antialiased duration-200 ease-out [-webkit-tap-highlight-color:transparent] dark:text-white"
  >
    
<div class="sticky top-0 z-50 w-full border-b border-gray-700 shadow-sm backdrop-blur-sm" style="background-color: #1a1a1a !important; position: sticky; top: 0;">
  <div class="mx-auto flex items-center px-8" style="max-width: 90% !important; gap: 2rem; min-height: 6rem; padding-top: 1.5rem; padding-bottom: 1.5rem;">
    <div class="flex items-center" style="flex: 3;">
      <a
        class="text-2xl font-medium no-underline text-white"
        href="http://localhost:1313/function-wrapper/"
        >Kefer Astrology API Documentation</a
      >
      <div
        class="btn-dark text-[0px] ltr:ml-4 rtl:mr-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right] invert"
        role="button"
        aria-label="Dark"
      ></div>
    </div>
    <div style="flex: 2;">
<div class="relative">
  <input 
    type="text" 
    id="search-input" 
    placeholder="Search documentation..." 
    class="w-full px-4 py-2 rounded-lg border text-sm"
    style="background-color: #000000 !important; color: #b8860b !important; border-color: #b8860b !important;"
  />
  <div id="search-results" class="absolute top-full left-0 right-0 mt-2 bg-gray-900 border border-gray-700 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50 hidden" style="background-color: #1a1a1a !important; border-color: #4a4a4a !important;"></div>
</div>

<style>
  #search-input {
    background-color: #000000 !important;
    color: #b8860b !important;
    border-color: #b8860b !important;
  }
  #search-input::placeholder {
    color: #b8860b !important;
    opacity: 0.7;
  }
  #search-input:focus {
    border-color: #b8860b !important;
    ring-color: #b8860b !important;
  }
</style>

<script>
(function() {
  const searchInput = document.getElementById('search-input');
  const searchResults = document.getElementById('search-results');
  
  if (!searchInput) return;
  
  
  let globalSearchIndex = [];
  const basePath = '/function-wrapper';
  
  
  function buildSearchIndex() {
    const allLinks = Array.from(document.querySelectorAll('a[href]'));
    const indexMap = new Map();
    
    allLinks.forEach(link => {
      const href = link.getAttribute('href');
      const normalized = normalizeUrl(href);
      if (normalized && !normalized.includes('#') && !normalized.includes('http')) {
        const title = link.textContent.trim();
        if (title && !indexMap.has(normalized)) {
          indexMap.set(normalized, {
            title: title,
            url: normalized,
            keywords: (title + ' ' + normalized).toLowerCase()
          });
        }
      }
    });
    
    globalSearchIndex = Array.from(indexMap.values());
  }
  
  
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', buildSearchIndex);
  } else {
    buildSearchIndex();
  }
  
  
  function normalizeUrl(href) {
    if (!href || href.startsWith('http') || href.startsWith('#')) {
      return null;
    }
    const basePath = '/function-wrapper';
    let normalized = href.trim();
    
    
    if (normalized.endsWith('.md')) {
      normalized = normalized.slice(0, -3);
    }
    
    
    if (!normalized.startsWith('/')) {
      
      const currentPath = window.location.pathname;
      
      const relativePath = currentPath.startsWith(basePath) 
        ? currentPath.slice(basePath.length) 
        : currentPath;
      
      const currentDir = relativePath.split('/').slice(0, -1).filter(p => p).join('/');
      
      if (currentDir) {
        normalized = '/' + currentDir + '/' + normalized;
      } else {
        normalized = '/' + normalized;
      }
    }
    
    
    if (normalized.startsWith('/') && !normalized.startsWith(basePath)) {
      normalized = basePath + normalized;
    }
    
    
    normalized = normalized.replace(/\/+/g, '/');
    
    
    if (normalized !== basePath && normalized !== basePath + '/' && normalized.endsWith('/')) {
      normalized = normalized.slice(0, -1);
    }
    
    return normalized;
  }
  
  
  const pageIndex = new Map();
  const allLinks = Array.from(document.querySelectorAll('a[href]'));
  
  allLinks.forEach(link => {
    const href = link.getAttribute('href');
    const normalized = normalizeUrl(href);
    if (normalized) {
      const text = link.textContent.trim();
      const linkText = text.toLowerCase();
      
      pageIndex.set(normalized, {
        title: text || normalized.split('/').pop(),
        searchText: linkText,
        href: normalized
      });
    }
  });
  
  
  const currentPath = window.location.pathname;
  pageIndex.set(currentPath, {
    title: document.title || 'Current Page',
    searchText: document.body.textContent.toLowerCase(),
    href: currentPath
  });
  
  
  searchInput.addEventListener('input', function(e) {
    const query = e.target.value.toLowerCase().trim();
    
    if (query.length < 1) {
      searchResults.classList.add('hidden');
      return;
    }
    
    const results = [];
    
    const queryWords = query.split(' ').filter(w => w.length > 0);
    const seenUrls = new Set();
    const seenResults = new Set(); 
    
    
    if (globalSearchIndex.length > 0) {
      globalSearchIndex.forEach(page => {
        const matches = queryWords.length > 0 && (
          queryWords.every(word => page.keywords.includes(word)) ||
          page.keywords.includes(query) 
        );
        
        if (matches && !seenUrls.has(page.url)) {
          seenUrls.add(page.url);
          results.push({
            title: page.title,
            url: page.url,
            text: page.title + ' - Documentation page (click to search this page)',
            priority: 0 
          });
        }
      });
    }
    
    
    pageIndex.forEach((pageInfo, url) => {
      
      const urlSegments = url.toLowerCase().split('/').filter(s => s.length > 0);
      const searchableText = (pageInfo.searchText + ' ' + pageInfo.title.toLowerCase() + ' ' + urlSegments.join(' ')).toLowerCase();
      
      const matches = queryWords.every(word => 
        searchableText.includes(word) || 
        urlSegments.some(seg => seg.includes(word))
      );
      
      if (matches && !seenUrls.has(url)) {
        seenUrls.add(url);
        results.push({
          title: pageInfo.title,
          url: url,
          text: pageInfo.title + ' - Documentation page',
          priority: 1 
        });
      }
    });
    
    
    allLinks.forEach(link => {
      const linkText = link.textContent.toLowerCase();
      const href = link.getAttribute('href');
      const normalized = normalizeUrl(href);
      
      if (normalized) {
        
        const urlSegments = normalized.toLowerCase().split('/').filter(s => s.length > 0);
        const searchableText = (linkText + ' ' + urlSegments.join(' ')).toLowerCase();
        
        const matches = queryWords.every(word => 
          searchableText.includes(word) || 
          urlSegments.some(seg => seg.includes(word))
        );
        
        if (matches && !seenUrls.has(normalized)) {
          seenUrls.add(normalized);
          results.push({
            title: link.textContent.trim() || normalized.split('/').pop().replace(/-/g, ' '),
            url: normalized,
            text: link.textContent.trim() || 'Documentation page',
            priority: 1 
          });
        }
      }
    });
    
    
    
    document.querySelectorAll('h1, h2, h3, h4, h5, h6, p, li, code, pre, dt, dd, td, th, strong, em, b').forEach(el => {
      const text = el.textContent.toLowerCase();
      
      const matches = queryWords.length > 0 && (
        queryWords.every(word => text.includes(word)) || 
        text.includes(query) 
      );
      
      if (matches && el.textContent.trim() && el.textContent.trim().length > 1) {
        
        let pageUrl = currentPath;
        let pageTitle = document.title || 'Documentation';
        
        
        const parent = el.closest('article, section, li, ul, ol, table, dl');
        if (parent) {
          const nearbyLink = parent.querySelector('a[href*="/auto/"], a[href*="/enums"], a[href*="/ui_"], a[href*="/models"]');
          if (nearbyLink) {
            const normalized = normalizeUrl(nearbyLink.getAttribute('href'));
            if (normalized) {
              pageUrl = normalized;
              pageTitle = nearbyLink.textContent.trim() || pageTitle;
            }
          }
        }
        
        
        if (el.tagName && el.tagName.match(/^H[1-6]$/)) {
          pageTitle = el.textContent.trim();
        }
        
        
        let snippet = el.textContent.trim();
        if (snippet.length > 200) {
          
          const queryLower = query.toLowerCase();
          const index = snippet.toLowerCase().indexOf(queryLower);
          if (index > 0) {
            const start = Math.max(0, index - 50);
            snippet = '...' + snippet.substring(start, start + 150) + '...';
          } else {
            snippet = snippet.substring(0, 150) + '...';
          }
        }
        
        const resultKey = pageUrl + '|' + pageTitle;
        
        if (!seenResults.has(resultKey)) {
          seenResults.add(resultKey);
          results.push({
            title: pageTitle,
            url: pageUrl,
            text: snippet,
            priority: 2 
          });
        }
      }
    });
    
    
    const bodyText = document.body.textContent.toLowerCase();
    const bodyMatches = queryWords.length > 0 && (
      queryWords.every(word => bodyText.includes(word)) || 
      bodyText.includes(query) 
    );
    
    if (bodyMatches) {
      
      const resultKey = currentPath + '|' + (document.title || 'Current Page');
      if (!seenResults.has(resultKey)) {
        seenResults.add(resultKey);
        
        const queryLower = query.toLowerCase();
        const index = bodyText.indexOf(queryLower);
        if (index >= 0) {
          const fullText = document.body.textContent;
          const snippetStart = Math.max(0, index - 100);
          const snippetEnd = Math.min(fullText.length, index + query.length + 100);
          const snippet = '...' + fullText.substring(snippetStart, snippetEnd).trim() + '...';
          
          results.push({
            title: document.title || 'Current Page',
            url: currentPath,
            text: snippet,
            priority: 3 
          });
        }
      }
    }
    
    
    results.sort((a, b) => (a.priority || 2) - (b.priority || 2));
    
    
    if (results.length > 0) {
      const resultsHtml = results.slice(0, 10).map((r, idx) => {
        
        const safeTitle = (r.title || 'Documentation').replace(/</g, '&lt;').replace(/>/g, '&gt;');
        const safeText = (r.text || '').replace(/</g, '&lt;').replace(/>/g, '&gt;');
        return '<div class="p-3 bg-gray-800 rounded hover:bg-gray-700 cursor-pointer search-result-item" style="background-color: #2a2a2a !important;" data-url="' + 
          r.url.replace(/"/g, '&quot;') + '" data-index="' + idx + '"><div class="font-medium text-yellow-400 text-sm">' + 
          safeTitle + '</div><p class="text-xs text-gray-400 mt-1">' + safeText + '</p></div>';
      }).join('');
      
      searchResults.innerHTML = '<div class="space-y-2 p-2"><p class="font-semibold mb-2 text-sm text-white">Found ' + results.length + ' result(s):</p>' + resultsHtml + '</div>';
      
      
      searchResults.querySelectorAll('.search-result-item').forEach(item => {
        item.addEventListener('click', function() {
          const url = this.getAttribute('data-url');
          if (url) {
            window.location.href = url;
          }
        });
      });
      
      searchResults.classList.remove('hidden');
    } else {
      searchResults.innerHTML = '<div class="p-4"><p class="text-gray-400 text-sm">No results found</p></div>';
      searchResults.classList.remove('hidden');
    }
  });
  
  
  searchInput.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
      searchResults.classList.add('hidden');
      searchInput.value = '';
    }
  });
})();
</script>
</div>
  </div>
</div>

<script>
  
  const htmlClass = document.documentElement.classList;
  const btnDark = document.querySelector('.btn-dark');
  if (btnDark) {
    btnDark.addEventListener('click', () => {
      const isDark = localStorage.getItem('dark') !== 'true';
      localStorage.setItem('dark', isDark);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      const metaTheme = document.querySelector('meta[name="theme-color"]');
      if (metaTheme) {
        metaTheme.setAttribute('content', isDark ? "rgb(0 0 0 / 85%)" : '#faf8f1');
      }
    });
  }
  
  
  const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
  const darkVal = localStorage.getItem('dark');
  if (darkVal === 'true' || (!darkVal && darkScheme.matches)) {
    htmlClass.add('dark');
  }
</script>
<main
      class="prose prose-neutral dark:prose-invert relative mx-auto min-h-[calc(100vh-9rem)] px-8 pb-16"
      style="max-width: 90% !important;"
    ><article class="pt-6">
      <section class="prose prose-lg" style="max-width: 90% !important;"><p>Welcome to the auto-generated API documentation for the Kefer Astrology function-wrapper project.</p>
<h2 id="documentation-structure">Documentation Structure</h2>
<ul>
<li><strong><a href="models.mmd">Models Overview</a></strong> - Mermaid class diagram showing all dataclasses and their relationships</li>
<li><strong><a href="enums">Enums Overview</a></strong> - Complete list of all enumerations and their members</li>
<li><strong><a href="ui_streamlit">User Interfaces</a></strong> - UI implementations:
<ul>
<li><a href="ui_streamlit">Streamlit UI</a> - Web-based interface for interactive chart creation</li>
<li><a href="ui_kivy">Kivy UI</a> - Desktop application for native chart rendering</li>
</ul>
</li>
<li><strong><a href="auto/">Module Documentation</a></strong> - Detailed API documentation for each module:
<ul>
<li><a href="auto/cli">cli</a> - Command-line interface</li>
<li><a href="auto/models">models</a> - Data models and types</li>
<li><a href="auto/services">services</a> - Core service functions</li>
<li><a href="auto/storage">storage</a> - Storage management</li>
<li><a href="auto/utils">utils</a> - Utility functions</li>
<li><a href="auto/workspace">workspace</a> - Workspace management</li>
<li><a href="auto/z_visual">z_visual</a> - Visualization utilities</li>
</ul>
</li>
</ul>
<h2 id="model-class-diagram">Model Class Diagram</h2>
<p>The following diagram shows the relationships between all dataclasses in the models module:</p>
<pre tabindex="0"><code class="language-mermaid" data-lang="mermaid">%%{init: {&#39;theme&#39;:&#39;default&#39;, &#39;classDiagram&#39;: {&#39;direction&#39;:&#39;TB&#39;}}}%%
classDiagram


class Annotation {
  str title
  str content
  datetime created
  str author
}


class Aspect {
  str type
  str source_id
  str target_id
  float angle
  float orb
}


class AspectDefinition {
  str id
  str glyph
  float angle
  float default_orb
  Dict~str,str~ i18n
  str color
  int importance
  str line_style
  float line_width
  bool show_label
  List~AspectContext(Enum)~ valid_contexts
}


class AspectSettings {
  str id
  bool enabled
  float orb
  str color
  int importance
  str line_style
  float line_width
  bool show_label
}


class AstroModel {
  str name
  List~BodyDefinition~ body_definitions
  List~AspectDefinition~ aspect_definitions
  List~Sign~ signs
  ModelSettings settings
  EngineType(Enum) engine
  ZodiacType(Enum) zodiac_type
  Ayanamsa(Enum) ayanamsa
}


class Attachment {
  str filename
  str url
  str type
}


class BodyDefinition {
  str id
  str glyph
  str formula
  Element(Enum) element
  float avg_speed
  float max_orb
  Dict~str,str~ i18n
  ObjectType(Enum) object_type
  Dict~str,str~ computation_map
  bool requires_location
  bool requires_house_system
}


class CelestialBody {
  str id
  str definition_id
  float degree
  str sign
  bool retrograde
  float speed
}


class ChartConfig {
  ChartMode(Enum) mode
  HouseSystem(Enum) house_system
  ZodiacType(Enum) zodiac_type
  List~str~ included_points
  Dict~str,float~ aspect_orbs
  str display_style
  str color_theme
  str override_ephemeris
  str model
  EngineType(Enum) engine
  Ayanamsa(Enum) ayanamsa
  List~str~ observable_objects
  TimeSystem(Enum) time_system
}


class ChartInstance {
  str id
  ChartSubject subject
  ChartConfig config
  Horoscope computed_chart
  List~str~ tags
}


class ChartPreset {
  str name
  ChartConfig config
}


class ChartRelation {
  RelationType(Enum) type
  str source
  str target
  str method
  DateRange time_span
}


class ChartSubject {
  str id
  str name
  datetime event_time
  Location location
}


class DateRange {
  datetime start
  datetime end
}


class ElementColorSettings {
  str fire
  str earth
  str air
  str water
}


class EphemerisSource {
  str name
  str backend
}


class Horoscope {
  datetime for_time
  Location location
  List~CelestialBody~ bodies
  List~House~ houses
  List~Aspect~ aspects
}


class House {
  int number
  float cusp_degree
  str sign
}


class Location {
  str name
  float latitude
  float longitude
  str timezone
}


class ModelOverrides {
  List~OverrideEntry~ points
  List~OverrideEntry~ aspects
  Dict~str,float~ override_orbs
}


class ModelSettings {
  HouseSystem(Enum) default_house_system
  List~str~ default_aspects
  List~str~ default_bodies
  float standard_orb
  List~str~ default_transit_aspects
  List~str~ default_direction_aspects
  List~str~ default_transit_bodies
  List~str~ default_direction_bodies
  float degrees_in_circle
  float obliquity_j2000
  float coordinate_tolerance
}


class OverrideEntry {
  str id
  str glyph
  float angle
  float default_orb
  List~str~ only_for
  Dict~str,str~ i18n
  bool computed
}


class RadixPointColorSettings {
  Dict~str,str~ colors
}


class Sign {
  str name
  str glyph
  str abbreviation
  Element(Enum) element
  Dict~str,str~ i18n
}


class ViewLayout {
  str name
  LayoutStyle(Enum) layout_style
  List~str~ chart_instances
  List~ChartRelation~ relations
  List~ViewModule~ modules
}


class ViewModule {
  ViewModuleType(Enum) type
  Dict~any,any~ config
}


class Workspace {
  str owner
  List~ChartSubject~ subjects
  List~ChartInstance~ charts
  List~ChartPreset~ chart_presets
  List~ViewLayout~ layouts
  List~Annotation~ annotations
  str active_model
  WorkspaceDefaults default
  List~str~ aspects
  List~str~ bodies
  Dict~str,AstroModel~ models
  ModelOverrides model_overrides
}


class WorkspaceDefaults {
  HouseSystem(Enum) default_house_system
  List~str~ default_bodies
  List~str~ default_aspects
  EngineType(Enum) ephemeris_engine
  str ephemeris_backend
  ElementColorSettings element_colors
  RadixPointColorSettings radix_point_colors
  Location default_location
  str language
  str theme
  TimeSystem(Enum) time_system
}

AstroModel --&gt; AspectDefinition
AstroModel --&gt; BodyDefinition
AstroModel --&gt; ModelSettings
AstroModel --&gt; Sign
ChartInstance --&gt; ChartConfig
ChartInstance --&gt; ChartSubject
ChartInstance --&gt; Horoscope
ChartPreset --&gt; ChartConfig
ChartRelation --&gt; DateRange
ChartSubject --&gt; Location
Horoscope --&gt; Aspect
Horoscope --&gt; CelestialBody
Horoscope --&gt; House
Horoscope --&gt; Location
ModelOverrides --&gt; OverrideEntry
ViewLayout --&gt; ChartRelation
ViewLayout --&gt; ViewModule
Workspace --&gt; Annotation
Workspace --&gt; AstroModel
Workspace --&gt; ChartInstance
Workspace --&gt; ChartPreset
Workspace --&gt; ChartSubject
Workspace --&gt; ModelOverrides
Workspace --&gt; ViewLayout
Workspace --&gt; WorkspaceDefaults
WorkspaceDefaults --&gt; ElementColorSettings
WorkspaceDefaults --&gt; Location
WorkspaceDefaults --&gt; RadixPointColorSettings
</code></pre></section>
      <style>
         
        .prose {
          color: #374151 !important;  
        }
        .prose p, .prose li, .prose td, .prose th {
          color: #4b5563 !important;  
        }
        .prose h1 {
          color: #111827 !important;  
        }
        .prose h2 {
          color: #1f2937 !important;  
        }
        .prose a {
          color: #2563eb !important;  
        }
        .prose a:hover {
          color: #1d4ed8 !important;  
        }
        .dark .prose {
          color: #e5e7eb !important;  
        }
        .dark .prose p, .dark .prose li, .dark .prose td, .dark .prose th {
          color: #d1d5db !important;  
        }
        .dark .prose h1 {
          color: #f9fafb !important;  
        }
        .dark .prose h2 {
          color: #f3f4f6 !important;  
        }
        .dark .prose a {
          color: #60a5fa !important;  
        }
         
        .prose h4 {
          color: #b8860b !important;  
        }
        .prose ul li strong,
        .prose ol li strong {
          color: #b8860b !important;  
        }
        .dark .prose h4 {
          color: #b8860b !important;  
        }
        .dark .prose ul li strong,
        .dark .prose ol li strong {
          color: #b8860b !important;  
        }
         
        .prose code {
          color: #92400e !important;  
          background-color: #fef3c7 !important;  
        }
        .prose pre {
          background-color: #1f2937 !important;  
        }
        .prose pre code {
          color: #fbbf24 !important;  
          background-color: transparent !important;
        }
        .dark .prose code {
          color: #fbbf24 !important;  
          background-color: rgba(251, 191, 36, 0.1) !important;  
        }
        .dark .prose pre {
          background-color: #111827 !important;  
        }
        .dark .prose pre code {
          color: #fbbf24 !important;  
        }
      </style>
      
      <script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true });
</script>
<script>
  Array.from(document.getElementsByClassName('language-mermaid')).forEach(
    (el) => {
      el.parentElement.outerHTML = `<div class="mermaid [&_svg]:block [&_svg]:m-auto">${el.innerHTML}</div>`;
    },
  );
</script><style>
         
        .mermaid {
          overflow-y: auto;
          overflow-x: auto;
          cursor: grab;
          max-width: 100%;
          max-height: 80vh;
          display: block;
        }
        .mermaid:active {
          cursor: grabbing;
        }
        .mermaid svg {
          width: 100%;
          height: auto;
          min-height: 100%;
        }
         
        .mermaid-container {
          position: relative;
          overflow-y: auto;
          overflow-x: auto;
          border: 1px solid rgba(0, 0, 0, 0.1);
          border-radius: 8px;
          padding: 1rem;
          background: rgba(0, 0, 0, 0.02);
          max-height: 80vh;
          direction: ltr;
          width: 100%;
        }
         
        .mermaid-container:has(.mermaid svg[data-diagram-type="classDiagram"]),
        .mermaid-container.class-diagram {
          width: 90% !important;
          max-width: 90% !important;
          min-height: 1500px !important;
          margin: 0 auto;
        }
        .dark .mermaid-container {
          border-color: rgba(255, 255, 255, 0.1);
          background: rgba(255, 255, 255, 0.02);
        }
         
        .mermaid-container svg {
          display: block;
          margin: 0 auto;
          max-width: 100%;
        }
         
        .mermaid-container .classDiagram {
          width: 100% !important;
        }
         
        .mermaid-container svg[data-diagram-type="classDiagram"] rect,
        .mermaid-container svg[data-diagram-type="classDiagram"] polygon,
        .mermaid-container svg rect.node,
        .mermaid-container svg polygon.node {
          fill: #1a1a1a !important;
          stroke: #b8860b !important;
          stroke-width: 2px !important;
        }
        .mermaid-container svg[data-diagram-type="classDiagram"] text,
        .mermaid-container svg[data-diagram-type="classDiagram"] .node text {
          fill: #fbbf24 !important;
          color: #fbbf24 !important;
        }
        .mermaid-container svg[data-diagram-type="classDiagram"] .classTitle {
          fill: #fbbf24 !important;
          font-weight: bold !important;
        }
        .mermaid-container svg[data-diagram-type="classDiagram"] .classText {
          fill: #fbbf24 !important;
        }
         
        .mermaid-container.class-diagram svg rect:not([fill="none"]),
        .mermaid-container.class-diagram svg polygon:not([fill="none"]) {
          fill: #1a1a1a !important;
          stroke: #b8860b !important;
        }
        .mermaid-container.class-diagram svg text {
          fill: #fbbf24 !important;
        }
         
        .dark .mermaid-container svg[data-diagram-type="classDiagram"] rect,
        .dark .mermaid-container svg[data-diagram-type="classDiagram"] polygon {
          fill: #0a0a0a !important;
          stroke: #b8860b !important;
        }
      </style>
      <script>
        
        document.addEventListener('DOMContentLoaded', function() {
          
          if (typeof mermaid !== 'undefined') {
            mermaid.initialize({ 
              startOnLoad: true,
              flowchart: { 
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
              },
              classDiagram: {
                useMaxWidth: true,
                direction: 'TB' 
              }
            });
          }
          
          const mermaidDiagrams = document.querySelectorAll('.mermaid');
          mermaidDiagrams.forEach(diagram => {
            
            const container = document.createElement('div');
            container.className = 'mermaid-container';
            diagram.parentNode.insertBefore(container, diagram);
            container.appendChild(diagram);
            
            
            if (diagram.textContent.includes('classDiagram')) {
              container.classList.add('class-diagram');
              setTimeout(() => {
                const svg = container.querySelector('svg');
                if (svg) {
                  svg.setAttribute('data-diagram-type', 'classDiagram');
                  
                  
                  const viewBox = svg.getAttribute('viewBox');
                  if (viewBox) {
                    const [x, y, width, height] = viewBox.split(' ').map(Number);
                    
                    
                    container.style.width = '90%';
                    container.style.maxWidth = '90%';
                    container.style.minHeight = '1500px';
                    container.style.margin = '0 auto';
                    container.style.overflowX = 'auto';
                    container.style.overflowY = 'auto';
                    container.style.position = 'relative';
                    
                  
                  svg.style.width = width + 'px';
                  svg.style.height = height + 'px';
                  svg.style.minWidth = width + 'px';
                  svg.style.minHeight = height + 'px';
                  svg.style.display = 'block';
                  
                  
                  const applyStyles = () => {
                    
                    svg.querySelectorAll('rect, polygon').forEach(rect => {
                      const fill = rect.getAttribute('fill');
                      
                      if (fill && (fill.includes('white') || fill.includes('#fff') || fill.includes('rgb(255'))) {
                        rect.setAttribute('fill', '#1a1a1a');
                      } else if (!fill || fill === 'none') {
                        
                        const parent = rect.closest('g.node');
                        if (parent) {
                          rect.setAttribute('fill', '#1a1a1a');
                        }
                      }
                      
                      const stroke = rect.getAttribute('stroke');
                      if (stroke && stroke !== 'none') {
                        rect.setAttribute('stroke', '#b8860b');
                        rect.setAttribute('stroke-width', '2');
                      }
                    });
                    
                    
                    svg.querySelectorAll('text').forEach(text => {
                      text.setAttribute('fill', '#fbbf24');
                      text.style.fill = '#fbbf24';
                      text.style.color = '#fbbf24';
                    });
                    
                    
                    svg.querySelectorAll('.node rect, .node polygon').forEach(el => {
                      el.setAttribute('fill', '#1a1a1a');
                      el.setAttribute('stroke', '#b8860b');
                      el.setAttribute('stroke-width', '2');
                    });
                    
                    
                    svg.querySelectorAll('path.edge, .edgePath path').forEach(path => {
                      path.setAttribute('stroke', '#b8860b');
                      path.setAttribute('stroke-width', '1.5');
                    });
                  };
                  
                  
                  setTimeout(applyStyles, 200);
                  setTimeout(applyStyles, 500);
                  setTimeout(applyStyles, 1000);
                  setTimeout(applyStyles, 2000);
                    
                    
                    const containerWidthPx = container.offsetWidth || window.innerWidth * 0.9;
                    const minReadableWidth = 1200; 
                    const initialScale = Math.max(1, minReadableWidth / width);
                    
                    
                    const scaleWrapper = document.createElement('div');
                    scaleWrapper.style.transformOrigin = 'top left';
                    scaleWrapper.style.transform = `scale(${initialScale})`;
                    scaleWrapper.style.width = width + 'px';
                    scaleWrapper.style.height = height + 'px';
                    svg.parentNode.insertBefore(scaleWrapper, svg);
                    scaleWrapper.appendChild(svg);
                    
                    
                    scaleWrapper.dataset.scale = initialScale;
                  }
                }
              }, 1500);
            }
            
            
            const scaleWrapper = container.querySelector('[data-scale]');
            let scale = scaleWrapper ? parseFloat(scaleWrapper.dataset.scale) : 1;
            const minScale = 0.3;
            const maxScale = 5;
            
            
            container.addEventListener('wheel', function(e) {
              if (e.ctrlKey || e.metaKey) {
                e.preventDefault();
                const delta = e.deltaY > 0 ? 0.9 : 1.1;
                scale = Math.max(minScale, Math.min(maxScale, scale * delta));
                
                if (scaleWrapper) {
                  scaleWrapper.style.transform = `scale(${scale})`;
                  scaleWrapper.dataset.scale = scale;
                } else {
                  diagram.style.transform = `scale(${scale})`;
                  diagram.style.transformOrigin = 'top left';
                }
              }
            }, { passive: false });
            
            
            let isDragging = false;
            let startX, startY, scrollLeft, scrollTop;
            
            container.addEventListener('mousedown', function(e) {
              isDragging = true;
              startX = e.pageX - container.offsetLeft;
              startY = e.pageY - container.offsetTop;
              scrollLeft = container.scrollLeft;
              scrollTop = container.scrollTop;
              container.style.cursor = 'grabbing';
            });
            
            container.addEventListener('mouseleave', function() {
              isDragging = false;
              container.style.cursor = 'grab';
            });
            
            container.addEventListener('mouseup', function() {
              isDragging = false;
              container.style.cursor = 'grab';
            });
            
            container.addEventListener('mousemove', function(e) {
              if (!isDragging) return;
              e.preventDefault();
              const x = e.pageX - container.offsetLeft;
              const y = e.pageY - container.offsetTop;
              const walkX = (x - startX) * 2;
              const walkY = (y - startY) * 2;
              container.scrollLeft = scrollLeft - walkX;
              container.scrollTop = scrollTop - walkY;
            });
          });
        });
      </script></article></main><footer
  class="mx-auto flex h-[4.5rem] max-w-(--w) items-center px-8 text-xs tracking-wider uppercase opacity-60"
>
  <div class="mr-auto">&copy;2026
    <a class="link" href="http://localhost:1313/function-wrapper/">Kefer Astrology API Documentation</a></div>
  <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank"
    >powered by hugo️️</a
  >️
  <a
    class="link"
    href="https://github.com/nanxiaobei/hugo-paper"
    rel="noopener"
    target="_blank"
    >hugo-paper</a
  >
</footer>
</body>
</html>
